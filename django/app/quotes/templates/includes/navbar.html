{% load i18n %}
{% load static %}
{% load django_svelte %}
{% load util %}


<link rel="stylesheet" href="{% static 'quotes/navbar.css' %}">


{% block svelte_styles %}
  {% display_svelte_css 'ThemeToggle' %}
  {% display_svelte_css 'LanguageToggle' %}
{% endblock %}


{% with request.resolver_match.url_name as url_name %}
<nav>
  <ul>
    <li class="dichonario-container">
      <a href="{% url 'quote-main-public' %}">
        <h3 class="dichonario-text">Dichonario</h3>
      </a>
      <c-icons.logo></c-icons.logo>
      {% comment %} <img src="{% static 'quotes/images/quote.svg' %}" class="dichonario-logo" alt="Dichonario" /> {% endcomment %}
    </li>
  </ul>
  <ul>
      <li>
            {% display_svelte 'ThemeToggle' props_theme %}
      </li>
      <li>
            {% display_svelte 'LanguageToggle' props_language %}
      </li>

      {% if request.user.is_authenticated %}
      <li>
        <details class="dropdown">
          <summary>
            <svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 24 24"><path fill="currentColor" d="M4.5 17.27q-.213 0-.356-.145T4 16.768t.144-.356t.356-.143h15q.213 0 .356.144q.144.144.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.144T4 11.999t.144-.356t.356-.143h15q.213 0 .356.144t.144.357t-.144.356t-.356.143zm0-4.77q-.213 0-.356-.143Q4 7.443 4 7.23t.144-.356t.356-.143h15q.213 0 .356.144T20 7.23t-.144.356t-.356.144z"/></svg>
          </summary>
          <ul dir="rtl">
            <li>
              <a href="{% url 'quote-main-public' %}">{% trans 'Quotes' %}</a>
            </li>

            <li>
              <a href="{% url 'quote-new' %}">{% trans 'New quote' %}</a>
            </li>

            <li>
              <a id="search-link" data-target="search_modal">{% trans 'Search' %}</a>
            </li>

            <li>
              <a href="{% url 'exit' %}">{% trans 'Logout' %}</a>
            </li>
          </ul>
        </details>
      </li>
      {% else %}
        <li>
          <a href="{% url 'login' %}">{% trans 'Login' %}</a>
        </li>
        <li>
          <a href="{% url 'signup' %}">{% trans 'Register' %}</a>
        </li>
      {% endif %}

 {% comment %} 
 {% if url_name != 'home' %}
 <li>
 <a href="{% url 'home' %}" aria-current="page">{% trans 'Home' %}</a>
 </li>
 {% endif %}             
 {% endcomment %}
     
  </ul>
</nav>
{% endwith %}

<script>
  document.getElementById("search-link").addEventListener("click", function(e) {
    toggleModal(e);
  });
</script>
