{% load i18n %}

<div x-data="{ isShow: false }" x-intersect="isShow = true" x-intersect:leave="isShow = false">
    <article x-bind:class="isShow ? 'non-scaled-quote' : ''" class="quote scaled-quote">
       <blockquote>
            <c-quote-details />
       </blockquote>
       <footer>
            {% if editable == True %}
               {% url view_name as url_view_name %}
               {% with next=url_view_name|add:'?page='|add:paginated_results.current_page|urlencode %}
                    <div 
                        class="quote-actions-bar" 
                        id="quote-actions-bar-{{quote.id}}" 
                        hx-swap="innerHTML"
                    >
                        <c-secondary-button 
                            id="quote-edit-button-{{quote.id}}"
                            hx-get="{% url 'quote-partial-edit' quote.id %}"
                            hx-target="#quote-{{quote.id}}"
                            data-tooltip="{% trans 'Edit' %}" 
                        >
                            {% trans "Edit" %}
                            <c-icons.edit></c-icons.edit>
                        </c-secondary-button>

                        <c-secondary-button 
                            id="quote-delete-button-{{quote.id}}"
                            hx-get="{% url 'quote-partial-confirm-delete'  quote.id %}?next={{next}}"
                            hx-target="closest div.quote-actions-bar"
                            data-tooltip="{% trans 'Delete' %}" 
                        >
                            {% trans "Delete" %}
                            <c-icons.delete></c-icons.delete>
                        </c-secondary-button>
                    </div>
               {% endwith %}
            {% endif %}
        </footer>
    </article>
</div>
